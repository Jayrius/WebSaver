<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WebSaver</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="bg-primary text-white p-3 shadow">
    <div class="container d-flex justify-content-center align-items-center">
      <h1 id="headerTitle" class="rainbow-glow m-0">WebSaver <img src="WebSaverMasot.png" alt="Chat Icon" style="width: 100px; height: 100px; border-radius: 50%;" /></h1>
    </div>
  </header>

  <div class="container-fluid">
    <div class="row min-vh-100">
      <!-- Sidebar -->
      <nav id="sidebar" class="col-md-3 col-12 bg-light p-3 border-end">
        <h5>Add Website</h5>
        <form id="addWebsiteForm" onsubmit="event.preventDefault(); addWebsite();">
          <div class="mb-2">
            <input id="siteName" type="text" class="form-control" placeholder="Website Name" required />
          </div>
          <div class="mb-2">
            <input id="siteURL" type="url" class="form-control" placeholder="Website URL (include https://)" required />
          </div>
          <div class="mb-3">
            <input id="siteTags" type="text" class="form-control" placeholder="Tags (optional, comma separated)" />
          </div>
          <button type="submit" class="btn btn-primary w-100">Add Website</button>
        </form>

        <hr />

        <h5>Add Folder</h5>
        <form id="addFolderForm" onsubmit="event.preventDefault(); addFolder();">
          <div class="mb-3">
            <input id="folderName" type="text" class="form-control" placeholder="Folder Name" required />
          </div>
          <button type="submit" class="btn btn-success w-100">Add Folder</button>
        </form>

        <hr />

        
      </nav>

      <!-- Main content -->
      <main class="col-md-9 col-12 p-3">
        <!-- Search bar inside main content -->
        <div class="mb-3">
          <input
            id="searchBar"
            class="form-control"
            type="search"
            placeholder="Search by name or tag..."
          />
        </div>

        <!-- Cards container -->
        <div id="cardsContainer" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4"></div>
      </main>
    </div>
  </div>

  <!-- Modal: Add to Folder -->
  <div class="modal fade" id="addToFolderModal" tabindex="-1" aria-labelledby="addToFolderModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <form class="modal-content" id="addToFolderForm">
        <div class="modal-header">
          <h5 class="modal-title" id="addToFolderModalLabel">Add Website to Folder</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <select id="folderSelect" class="form-select" required></select>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Add</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal: View Folder Websites -->
  <div class="modal fade" id="viewFolderModal" tabindex="-1" aria-labelledby="viewFolderModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="viewFolderModalLabel">Folder Websites</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="folderWebsitesContainer">
          <!-- Websites will be loaded here -->
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal: Rename Item -->
  <div class="modal fade" id="renameModal" tabindex="-1" aria-labelledby="renameModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <form class="modal-content" id="renameForm">
        <div class="modal-header">
          <h5 class="modal-title" id="renameModalLabel">Rename</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <input type="text" id="renameInputName" class="form-control mb-3" placeholder="New Name" required />
          <label id="renameTagsLabel" for="renameInputTags" style="display:none;">Tags (comma separated):</label>
          <input type="text" id="renameInputTags" class="form-control" placeholder="New Tags (comma separated, websites only)" style="display:none;" />
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Save</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- AI Chat Toggle Button -->
  <!-- <button
  id="aiToggleBtn"
  aria-label="Toggle AI Chat"
  aria-expanded="false"
  disabled
  style="
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1100;
    background: none;      /* Remove background */
    border: none;          /* Remove border */
    padding: 0;            /* Remove padding */
    cursor: pointer;       /* Pointer cursor */
  "
  >
  <img src="WebSaverMasot.png" alt="Chat Icon" style="width: 100px; height: 100px; border-radius: 50%;" />
  </button>


  <div id="aiChatBox" hidden>
    <div id="aiMessages" tabindex="0" aria-live="polite" aria-atomic="true"></div>
    <form id="aiForm" autocomplete="off">
      <input
        type="text"
        id="aiInput"
        placeholder="Ask me anything..."
        aria-label="Ask AI a question"
        required
        autofocus
      />
      <button type="submit" class="btn btn-primary btn-sm">Send</button>
    </form>
  </div> -->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
